{"ast":null,"code":"var _jsxFileName = \"/Users/dewchat/Desktop/gummy/diew/dew 2/src/History.js\",\n  _s = $RefreshSig$();\n// History.js\nimport React, { useState, useEffect } from 'react';\nimport data from './data.json'; // นำเข้าข้อมูลจากไฟล์ JSON\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction History() {\n  _s();\n  const [issues, setIssues] = useState([]);\n\n  // ฟังก์ชันในการดึงข้อมูลจาก JSON และจัดเรียง\n  useEffect(() => {\n    // ดึงข้อมูลที่จำเป็นจาก JSON\n    const customerProblemData = data.Customer_problem.map(problem => {\n      // ค้นหาลูกค้า\n      const customer = data.Customer.find(cust => cust.Customer_ID === problem.Customer_ID);\n      // ค้นหาสถานะของปัญหานั้นๆ\n      const statusHistory = data.Status.filter(status => status.Issue_ID === problem.Issue_ID).map(status => ({\n        time: new Date().toLocaleString(),\n        // ตั้งเวลาให้เป็นตัวอย่าง\n        status: status.Status\n      }));\n      // ค้นหาผู้ดูแลปัญหานั้นๆ\n      const officer = data.Officer.find(off => off.Officer_ID === problem.Assigned_to);\n      return {\n        issueId: problem.Issue_ID,\n        description: problem.Issue_description,\n        customer: `${customer.First_name} ${customer.Last_name}`,\n        officer: officer ? officer.Department_name : 'Unknown',\n        statusHistory\n      };\n    });\n    setIssues(customerProblemData);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"history\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Problem History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), issues.map(issue => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"issue\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Problem No. #\", String(issue.issueId).padStart(5, '0')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Problem Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: issue.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Date/Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: new Date().toLocaleString()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-history\",\n        children: issue.statusHistory.map((status, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [status.time, \" - \", status.status]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, issue.issueId, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(History, \"UjB7VNe0F1VgEf8BwOqcSi+DV2k=\");\n_c = History;\nexport default History;\nvar _c;\n$RefreshReg$(_c, \"History\");","map":{"version":3,"names":["React","useState","useEffect","data","jsxDEV","_jsxDEV","History","_s","issues","setIssues","customerProblemData","Customer_problem","map","problem","customer","Customer","find","cust","Customer_ID","statusHistory","Status","filter","status","Issue_ID","time","Date","toLocaleString","officer","Officer","off","Officer_ID","Assigned_to","issueId","description","Issue_description","First_name","Last_name","Department_name","className","children","fileName","_jsxFileName","lineNumber","columnNumber","issue","String","padStart","index","_c","$RefreshReg$"],"sources":["/Users/dewchat/Desktop/gummy/diew/dew 2/src/History.js"],"sourcesContent":["// History.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport data from './data.json';  // นำเข้าข้อมูลจากไฟล์ JSON\r\n\r\nfunction History() {\r\n  const [issues, setIssues] = useState([]);\r\n\r\n  // ฟังก์ชันในการดึงข้อมูลจาก JSON และจัดเรียง\r\n  useEffect(() => {\r\n    // ดึงข้อมูลที่จำเป็นจาก JSON\r\n    const customerProblemData = data.Customer_problem.map(problem => {\r\n      // ค้นหาลูกค้า\r\n      const customer = data.Customer.find(cust => cust.Customer_ID === problem.Customer_ID);\r\n      // ค้นหาสถานะของปัญหานั้นๆ\r\n      const statusHistory = data.Status.filter(status => status.Issue_ID === problem.Issue_ID)\r\n        .map(status => ({\r\n          time: new Date().toLocaleString(),  // ตั้งเวลาให้เป็นตัวอย่าง\r\n          status: status.Status\r\n        }));\r\n      // ค้นหาผู้ดูแลปัญหานั้นๆ\r\n      const officer = data.Officer.find(off => off.Officer_ID === problem.Assigned_to);\r\n\r\n      return {\r\n        issueId: problem.Issue_ID,\r\n        description: problem.Issue_description,\r\n        customer: `${customer.First_name} ${customer.Last_name}`,\r\n        officer: officer ? officer.Department_name : 'Unknown',\r\n        statusHistory\r\n      };\r\n    });\r\n    setIssues(customerProblemData);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"history\">\r\n      <h2>Problem History</h2>\r\n      {issues.map((issue) => (\r\n        <div key={issue.issueId} className=\"issue\">\r\n          <h3>Problem No. #{String(issue.issueId).padStart(5, '0')}</h3>\r\n          <p><strong>Problem Details</strong></p>\r\n          <p>{issue.description}</p>\r\n          <p><strong>Date/Time</strong></p>\r\n          <p>{new Date().toLocaleString()}</p>\r\n          <p><strong>Status</strong></p>\r\n          <div className=\"status-history\">\r\n            {issue.statusHistory.map((status, index) => (\r\n              <p key={index}>{status.time} - {status.status}</p>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default History;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}