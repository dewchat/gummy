{"ast":null,"code":"var _jsxFileName = \"/Users/dewchat/Desktop/diew/src/components/Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { database } from \"../utils/firebase\";\nimport { ref, onValue } from \"firebase/database\"; // ใช้ onValue แทน .on('value')\n\nimport History from './History'; // import History ให้ถูกต้อง\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Chat() {\n  _s();\n  const [chat, setChat] = useState([]); // เปลี่ยนชื่อจาก Chat เป็น chat\n\n  useEffect(() => {\n    const chatRef = ref(database, 'Chat'); // ใช้ database ที่ import มา\n\n    onValue(chatRef, snapshot => {\n      const text = snapshot.val();\n      const chatArray = [];\n      for (let i in text) {\n        chatArray.push({\n          id: i,\n          ...text[i]\n        });\n      }\n      setChat(chatArray);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: chat.length > 0 ? chat.map((m, index) => /*#__PURE__*/_jsxDEV(History, {\n      m: m\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 17\n    }, this) // ส่ง prop m ให้ History\n    ) : \"No chat messages available\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this);\n}\n_s(Chat, \"dldYjcUEWs/7UwnfdUK9EPeZ62E=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","database","ref","onValue","History","jsxDEV","_jsxDEV","Chat","_s","chat","setChat","chatRef","snapshot","text","val","chatArray","i","push","id","children","length","map","m","index","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/dewchat/Desktop/diew/src/components/Chat.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { database } from \"../utils/firebase\";\nimport { ref, onValue } from \"firebase/database\"; // ใช้ onValue แทน .on('value')\n\nimport History from './History'; // import History ให้ถูกต้อง\n\nfunction Chat() {\n    const [chat, setChat] = useState([]); // เปลี่ยนชื่อจาก Chat เป็น chat\n\n    useEffect(() => {\n        const chatRef = ref(database, 'Chat'); // ใช้ database ที่ import มา\n\n        onValue(chatRef, (snapshot) => {\n            const text = snapshot.val();\n            const chatArray = [];\n            for (let i in text) {\n                chatArray.push({ id: i, ...text[i] });\n            }\n\n            setChat(chatArray);\n        });\n    }, []);\n\n    return (\n        <div>\n            {chat.length > 0 ? chat.map((m, index) => (\n                <History m={m} key={index} />  // ส่ง prop m ให้ History\n            )) : \"No chat messages available\"}\n        </div>\n    );\n}\n\nexport default Chat;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,QAAQ,QAAQ,mBAAmB;AAC5C,SAASC,GAAG,EAAEC,OAAO,QAAQ,mBAAmB,CAAC,CAAC;;AAElD,OAAOC,OAAO,MAAM,WAAW,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEjC,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EACZ,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;;EAEtCC,SAAS,CAAC,MAAM;IACZ,MAAMW,OAAO,GAAGT,GAAG,CAACD,QAAQ,EAAE,MAAM,CAAC,CAAC,CAAC;;IAEvCE,OAAO,CAACQ,OAAO,EAAGC,QAAQ,IAAK;MAC3B,MAAMC,IAAI,GAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC;MAC3B,MAAMC,SAAS,GAAG,EAAE;MACpB,KAAK,IAAIC,CAAC,IAAIH,IAAI,EAAE;QAChBE,SAAS,CAACE,IAAI,CAAC;UAAEC,EAAE,EAAEF,CAAC;UAAE,GAAGH,IAAI,CAACG,CAAC;QAAE,CAAC,CAAC;MACzC;MAEAN,OAAO,CAACK,SAAS,CAAC;IACtB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIT,OAAA;IAAAa,QAAA,EACKV,IAAI,CAACW,MAAM,GAAG,CAAC,GAAGX,IAAI,CAACY,GAAG,CAAC,CAACC,CAAC,EAAEC,KAAK,kBACjCjB,OAAA,CAACF,OAAO;MAACkB,CAAC,EAAEA;IAAE,GAAMC,KAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,CAAE;IAClC,CAAC,GAAG;EAA4B;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChC,CAAC;AAEd;AAACnB,EAAA,CAxBQD,IAAI;AAAAqB,EAAA,GAAJrB,IAAI;AA0Bb,eAAeA,IAAI;AAAC,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}